language: c

notifications:
  email: false

git:
  depth: 3

matrix:
  include:
    - os: linux
      addons:
        apt:
          sources: ['ubuntu-toolchain-r-test']
          packages: ['gfortran-5']
      before_install:
        - mkdir -p $HOME/.local/bin
        - ln -fs /usr/bin/gfortran-5 "$HOME/.local/bin/gfortran" 
        - gfortran --version

    - os: osx
      before_install:
        - brew update
        - brew install gcc

script: 
    - cd bin
    - cmake ..
    - make VERBOSE=1

    - ./bin/nan
    - ./bin/split
